"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6361],{49289:function(e,t,r){r.r(t),r.d(t,{default:function(){return $}});var o=r(57437),n=r(98833),i=r(42382),s=r(47198),a=r(3905),l=r(2265),c=r(25920),d=r(68376),u=r.n(d),m=r(92071),x=r(64059),p=(0,x.Z)((0,o.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen"),g=r(19391),h=r(61550),f=(0,x.Z)((0,o.jsx)("path",{d:"M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47M6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47m1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93"}),"RotateLeft"),b=(0,x.Z)((0,o.jsx)("path",{d:"M15.55 5.55 11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03m3.89-2.42 1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48"}),"RotateRight"),j=r(43831),k=r(93836),v=r(9685),Z=r(75364);let C=(0,a.makeStyles)()(e=>({controls:{position:"absolute",borderRight:`1px solid ${e.palette.divider}`,borderBottom:`1px solid ${e.palette.divider}`,left:0,top:0}})),S=(0,s.observer)(function({model:e}){let{classes:t}=C(),[r,n]=(0,l.useState)(null);return(0,o.jsxs)("div",{className:t.controls,children:[(0,o.jsx)(v.Z,{onClick:e.zoomOutButton,title:e.lockedFitToWindow?"unlock to zoom out":"zoom out",disabled:e.atMaxBpPerPx||e.lockedFitToWindow,children:(0,o.jsx)(k.Z,{})}),(0,o.jsx)(v.Z,{onClick:e.zoomInButton,disabled:e.atMinBpPerPx,title:"zoom in",children:(0,o.jsx)(j.Z,{})}),(0,o.jsx)(v.Z,{onClick:e.rotateCounterClockwiseButton,title:"rotate counter-clockwise",children:(0,o.jsx)(f,{})}),(0,o.jsx)(v.Z,{onClick:e.rotateClockwiseButton,title:"rotate clockwise",children:(0,o.jsx)(b,{})}),(0,o.jsx)(v.Z,{onClick:e.toggleFitToWindowLock,title:e.lockedFitToWindow?"locked model to window size":"unlocked model to zoom further",disabled:e.tooSmallToLock,children:e.lockedFitToWindow?(0,o.jsx)(m.Z,{}):(0,o.jsx)(p,{})}),(0,o.jsx)(v.Z,{onClick:e=>{n(e.currentTarget)},children:(0,o.jsx)(g.Z,{})}),e.hideTrackSelectorButton?null:(0,o.jsx)(v.Z,{onClick:e.activateTrackSelector,title:"Open track selector","data-testid":"circular_track_select",children:(0,o.jsx)(c.TrackSelector,{})}),r?(0,o.jsx)(u(),{anchorEl:r,menuItems:[{label:"Export SVG",icon:h.Z,onClick:()=>{(0,i.getSession)(e).queueDialog(t=>[Z.default,{model:e,handleClose:t}])}}],onMenuItemClick:(e,t)=>{t(),n(null)},open:!!r,onClose:()=>{n(null)}}):null]})});var y=r(31504),M=r(19352),W=r(77639);let w=(0,a.makeStyles)()(e=>({importFormContainer:{padding:e.spacing(6)}})),P=(0,s.observer)(function({model:e}){let{classes:t}=w(),r=(0,i.getSession)(e),{error:s}=e,{assemblyNames:a,assemblyManager:c}=r,[d,u]=(0,l.useState)(a[0]),m=c.get(d),x=a.length?null==m?void 0:m.error:"No configured assemblies",p=(null==m?void 0:m.regions)||[],g=x||s;return(0,o.jsxs)(y.Z,{className:t.importFormContainer,children:[g?(0,o.jsx)(M.Z,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",children:(0,o.jsx)(n.ErrorMessage,{error:g})}):null,(0,o.jsxs)(M.Z,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(n.AssemblySelector,{onChange:t=>{e.setError(void 0),u(t)},session:r,selected:d}),(0,o.jsx)(W.Z,{disabled:!p.length,onClick:()=>{e.setError(void 0),e.setDisplayedRegions(p)},variant:"contained",color:"primary",children:p.length||g?"Open":"Loading..."})]})]})});var T=r(57095);let R=(0,a.makeStyles)()(e=>({root:{position:"relative",marginBottom:e.spacing(1),overflow:"hidden"},scroller:{overflow:"auto"}})),z=(0,s.observer)(({model:e})=>(0,o.jsxs)(o.Fragment,{children:[e.staticSlices.map(t=>(0,o.jsx)(T.Z,{model:e,slice:t},(0,i.assembleLocString)(t.region.elided?t.region.regions[0]:t.region))),e.tracks.map(t=>{let r=t.displays[0];return(0,o.jsx)(r.RenderingComponent,{display:r,view:e},r.id)})]})),L=(0,s.observer)(({model:e})=>{let t=!!e.displayedRegions.length&&!!e.figureWidth&&!!e.figureHeight&&e.initialized,r=!t&&!e.disableImportForm;return r||e.error?(0,o.jsx)(P,{model:e}):t&&!r?(0,o.jsx)(N,{model:e}):null}),N=(0,s.observer)(function({model:e}){let{width:t,height:r,id:i,offsetRadians:s,centerXY:a,figureWidth:l,figureHeight:c,hideVerticalResizeHandle:d}=e,{classes:u}=R();return(0,o.jsxs)("div",{className:u.root,style:{width:t,height:r},"data-testid":i,children:[(0,o.jsx)("div",{className:u.scroller,style:{width:t,height:r},children:(0,o.jsx)("svg",{style:{transform:`rotate(${s}rad)`,transition:"transform 0.5s",transformOrigin:a.map(e=>`${e}px`).join(" "),position:"absolute",left:0,top:0},width:l,height:c,children:(0,o.jsx)("g",{transform:`translate(${a})`,children:(0,o.jsx)(z,{model:e})})})}),(0,o.jsx)(S,{model:e}),d?null:(0,o.jsx)(n.ResizeHandle,{onDrag:e.resizeHeight,style:{height:3,position:"absolute",bottom:0,left:0,background:"#ccc",boxSizing:"border-box",borderTop:"1px solid #fafafa"}})]})});var $=L},57095:function(e,t,r){var o=r(57437),n=r(42382),i=r(12051),s=r(25122),a=r(47198);let l=(0,r(3905).makeStyles)()({rulerLabel:{fontSize:"0.8rem",fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}}),c=(0,a.observer)(function({model:e,slice:t,region:r}){let i=(0,s.Z)(),{radiusPx:a}=e,l=a+1,{endRadians:c,startRadians:u}=t,m=(0,n.polarToCartesian)(l,u),x=(0,n.polarToCartesian)(l,c),p=(c-u)*l,g=c-u>Math.PI?"1":"0",h=`[${Number(r.regions.length).toLocaleString()}]`;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d,{text:h,view:e,maxWidthPx:p,radians:(c+u)/2,radiusPx:l,title:`${h} more regions`,color:i.palette.text.primary}),(0,o.jsx)("path",{d:["M",...m,"A",l,l,"0",g,"1",...x].join(" "),...(0,n.getStrokeProps)(i.palette.text.secondary),strokeWidth:2,strokeDasharray:"2,2",fill:"none"})]})}),d=(0,a.observer)(function({view:e,text:t,maxWidthPx:r,radians:i,radiusPx:s,title:a,color:c}){let{classes:d}=l(),u=(0,n.polarToCartesian)(s+5,i);return t?6.5*t.length<r?(0,o.jsxs)("text",{x:0,y:0,className:d.rulerLabel,textAnchor:"middle",dominantBaseline:"middle",transform:`translate(${u}) rotate(${(0,n.radToDeg)(i)+90})`,...(0,n.getFillProps)(c),children:[t,(0,o.jsx)("title",{children:a||t})]}):r>4?(0,n.radToDeg)(i+e.offsetRadians-Math.PI/2)>=180?(0,o.jsxs)("text",{x:0,y:0,className:d.rulerLabel,textAnchor:"start",dominantBaseline:"middle",transform:`translate(${u}) rotate(${(0,n.radToDeg)(i)})`,fill:c,children:[t,(0,o.jsx)("title",{children:a||t})]}):(0,o.jsxs)("text",{x:0,y:0,className:d.rulerLabel,textAnchor:"end",dominantBaseline:"middle",transform:`translate(${u}) rotate(${(0,n.radToDeg)(i)+180})`,fill:c,children:[t,(0,o.jsx)("title",{children:a||t})]}):null:null}),u=(0,a.observer)(function({model:e,slice:t,region:r}){let a=(0,s.Z)(),{radiusPx:l}=e,{endRadians:c,startRadians:u}=t,m=(0,n.getSession)(e).assemblyManager.get(r.assemblyName),x=m?m.getRefNameColor(r.refName):void 0;if(x)try{x=(0,i.makeContrasting)(x,a.palette.background.paper)}catch(e){x=a.palette.text.primary}else x=a.palette.text.primary;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d,{text:r.refName,view:e,maxWidthPx:(c-u)*l,radians:(c+u)/2,radiusPx:l,color:x}),(0,o.jsx)("path",{d:function(e,t,r,o){e.flipped&&([r,o]=[o,r]);let n=e.bpToXY(r,t),i=e.bpToXY(o,t);return["M",...n,"A",t,t,"0",Math.abs(o-r)/e.bpPerRadian>Math.PI?"1":"0","1",...i].join(" ")}(t,l+1,r.start,r.end),stroke:x,strokeWidth:2,fill:"none"})]})}),m=(0,a.observer)(function({model:e,slice:t}){return t.region.elided?(0,o.jsx)(c,{model:e,region:t.region,slice:t},(0,n.assembleLocString)(t.region.regions[0])):(0,o.jsx)(u,{region:t.region,model:e,slice:t},(0,n.assembleLocString)(t.region))});t.Z=m},92071:function(e,t,r){var o=r(64059),n=r(57437);t.Z=(0,o.Z)((0,n.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock")},31504:function(e,t,r){r.d(t,{Z:function(){return j}});var o=r(2265),n=r(61994),i=r(95916),s=r(7609),a=r(24040),l=r(25310),c=r(1984),d=r(26102),u=r(57437);let m=(0,d.Z)(),x=(0,c.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t["maxWidth".concat((0,a.Z)(String(r.maxWidth)))],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),p=e=>(0,l.Z)({props:e,name:"MuiContainer",defaultTheme:m}),g=(e,t)=>{let{classes:r,fixed:o,disableGutters:n,maxWidth:l}=e,c={root:["root",l&&"maxWidth".concat((0,a.Z)(String(l))),o&&"fixed",n&&"disableGutters"]};return(0,s.Z)(c,e=>(0,i.ZP)(t,e),r)};var h=r(51661),f=r(1589),b=r(42318),j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{createStyledComponent:t=x,useThemeProps:r=p,componentName:i="MuiContainer"}=e,s=t(e=>{let{theme:t,ownerState:r}=e;return{width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!r.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}}},e=>{let{theme:t,ownerState:r}=e;return r.fixed&&Object.keys(t.breakpoints.values).reduce((e,r)=>{let o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(o).concat(t.breakpoints.unit)}),e},{})},e=>{let{theme:t,ownerState:r}=e;return{..."xs"===r.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},...r.maxWidth&&"xs"!==r.maxWidth&&{[t.breakpoints.up(r.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[r.maxWidth]).concat(t.breakpoints.unit)}}}});return o.forwardRef(function(e,t){let o=r(e),{className:a,component:l="div",disableGutters:c=!1,fixed:d=!1,maxWidth:m="lg",classes:x,...p}=o,h={...o,component:l,disableGutters:c,fixed:d,maxWidth:m},f=g(h,i);return(0,u.jsx)(s,{as:l,ownerState:h,className:(0,n.Z)(f.root,a),ref:t,...p})})}({createStyledComponent:(0,f.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t["maxWidth".concat((0,h.Z)(String(r.maxWidth)))],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,b.i)({props:e,name:"MuiContainer"})})},1984:function(e,t,r){let o=(0,r(27387).ZP)();t.Z=o},83451:function(e,t,r){r.d(t,{Z:function(){return n}});var o=r(99654);function n(e){let{theme:t,name:r,props:n}=e;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?(0,o.Z)(t.components[r].defaultProps,n):n}}}]);