"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7852,9905],{79905:function(e,t,a){a.r(t),a.d(t,{default:function(){return l},makeFeatures:function(){return f}});var s=a(87290),r=a(77207),n=a(52427),u=a(12307);function f(e){let t=new Map;for(let a of e){let e=new u.default(a),s=e.get("refName"),r=t.get(s);r||(r=[],t.set(s,r)),r.push(e)}for(let e of t.values())e.sort((e,t)=>e.get("start")-t.get("start"));return t}class l extends r.BaseFeatureDataAdapter{constructor(e,t,a){super(e,t,a);let r=(0,s.readConfObject)(e,"features");this.features=f(r)}async getRefNames(){return[...this.features.keys()]}async getRefNameAliases(){return[...this.features.values()].map(e=>({refName:e[0].get("refName"),aliases:e[0].get("aliases")}))}getFeatures(e){let{refName:t,start:a,end:s}=e;return(0,n.ObservableCreate)(async e=>{for(let r of this.features.get(t)||[])r.get("end")>a&&r.get("start")<s&&e.next(r);e.complete()})}}},47852:function(e,t,a){a.r(t),a.d(t,{default:function(){return l}});var s=a(52427),r=a(12307),n=a(47358),u=a(15097),f=a(79905);class l extends f.default{getFeatures(e){return(0,s.ObservableCreate)(async t=>{let a=(await (0,n.z)(super.getFeatures(e).pipe((0,u.q)())))[0];t.next(new r.default({...a.toJSON(),uniqueId:`${a.id()}:${e.start}-${e.end}`,end:e.end,start:e.start,seq:a.get("seq").slice(Math.max(e.start-a.get("start"),0),Math.max(e.end-a.get("start"),0))})),t.complete()})}async getRegions(){let e=[];for(let[t,a]of this.features){let s;for(let r of a)s&&s.end>=r.get("start")&&s.start<=r.get("end")?s.end=r.get("end"):(s&&e.push(s),s={refName:t,start:r.get("start"),end:r.get("end")});s&&e.push(s)}return e}}}}]);