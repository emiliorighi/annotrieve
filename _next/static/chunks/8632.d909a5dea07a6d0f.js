"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8632],{68632:function(e,t,a){a.r(t);var s=a(99115),i=a(77207),r=a(42382),u=a(61795),n=a(52427),l=a(21821);class o extends i.BaseFeatureDataAdapter{async setupPre(e){let{statusCallback:t=()=>{}}=e||{},a=this.pluginManager,i=new s.B({filehandle:(0,u.openLocation)(this.getConf("bigWigLocation"),a)});return{bigwig:i,header:await (0,r.updateStatus)("Downloading bigwig header",t,()=>i.getHeader(e))}}async setup(e){return this.setupP||(this.setupP=this.setupPre(e).catch(e=>{throw this.setupP=void 0,e})),this.setupP}async getRefNames(e){let{header:t}=await this.setup(e);return Object.keys(t.refsByName)}async refIdToName(e){var t;let{header:a}=await this.setup();return null===(t=a.refsByNumber[e])||void 0===t?void 0:t.name}async getGlobalStats(e){let{header:t}=await this.setup(e);return(0,l.rectifyStats)(t.totalSummary)}getFeatures(e,t={}){let{refName:a,start:s,end:i}=e,{bpPerPx:u=0,resolution:l=1,stopToken:o,statusCallback:h=()=>{}}=t;return(0,n.ObservableCreate)(async n=>{let o=this.getConf("source"),c=this.getConf("resolutionMultiplier"),{bigwig:p}=await this.setup(t);for(let g of(await (0,r.updateStatus)("Downloading bigwig data",h,()=>p.getFeatures(a,s,i,{...t,basesPerSpan:u/l*c})))){o&&(g.source=o);let t=`${o}:${e.refName}:${g.start}-${g.end}`;g.refName=a,g.uniqueId=t,n.next({get:e=>g[e],id:()=>t,toJSON:()=>g})}n.complete()},o)}async getMultiRegionFeatureDensityStats(e){return{featureDensity:0}}}o.capabilities=["hasResolution","hasLocalStats","hasGlobalStats"],t.default=o}}]);