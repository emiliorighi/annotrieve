"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9741],{29741:function(r,o,e){e.d(o,{drawFeats:function(){return a}});var t=e(42382),n=e(60288),l=e(1698),i=e(96764);function s(r){return 2*Math.random()*r-r}function _(r,o,e,t){r.strokeStyle=t,r.beginPath(),r.moveTo(o,0),r.lineTo(o,e),r.stroke()}function a(r,o,e,a){let{chainData:c,colorBy:f,drawInter:d,drawLongRange:u,lineWidthSetting:p,jitterVal:g}=r;if(!c)return;let h=(0,t.getContainingView)(r),{assemblyManager:m}=(0,t.getSession)(r),{chains:v,stats:k}=c,C=(0,i.Fl)(c),y=m.get(h.assemblyNames[0]),w=(null==f?void 0:f.type)||"insertSizeAndOrientation";if(y)for(let r of(o.lineWidth=p,v))if(1===r.length&&u){let o=r[0];if(C&&!(8&o.flags)){let r={refName:o.next_ref||"",start:o.next_pos||0,end:o.next_pos||0,strand:o.strand};A(o,r,y,!0)}else{let r=[o,...(0,n.Y1)(o.SA,o.id,o.strand,o.name)].sort((r,o)=>r.clipPos-o.clipPos);for(let o=0;o<r.length-1;o++)A(r[o],r[o+1],y,!0)}}else{let o=C?r.filter(r=>!(2048&r.flags)&&!(8&r.flags)):r.sort((r,o)=>r.clipPos-o.clipPos).filter(r=>!(256&r.flags));for(let r=0;r<o.length-1;r++)A(o[r],o[r+1],y,!1)}function A(r,e,t,n){var i,c,f;let u=r.strand,p=e.strand,m=-1===p,v=-1===u?r.start:r.end,y=C?m?e.start:e.end:m?e.end:e.start,A=t.getCanonicalRefName(r.refName)||r.refName,S=t.getCanonicalRefName(e.refName)||e.refName,P=null===(i=h.bpToPx({refName:A,coord:v}))||void 0===i?void 0:i.offsetPx,N=null===(c=h.bpToPx({refName:S,coord:y}))||void 0===c?void 0:c.offsetPx;if(void 0!==P&&void 0!==N){let t=(N-P)/2,i=Math.abs(t),c=P-h.offsetPx,d=N-h.offsetPx,m=i>1e4;n&&m?(o.moveTo(c,0),o.beginPath()):(o.beginPath(),o.moveTo(c,0)),n&&m?o.strokeStyle="red":C?"insertSizeAndOrientation"===w?o.strokeStyle=(0,l.k5)(r,e,k)[0]:"orientation"===w?o.strokeStyle=(0,l.uE)(r)[0]:"insertSize"===w?o.strokeStyle=(null===(f=(0,l.Wh)(r,e,k))||void 0===f?void 0:f[0])||"grey":"gradient"===w&&(o.strokeStyle=`hsl(${10*Math.log10(i)},50%,50%)`):"orientation"===w||"insertSizeAndOrientation"===w?-1===u&&1===p?o.strokeStyle="navy":1===u&&-1===p?o.strokeStyle="green":o.strokeStyle="grey":"gradient"===w&&(o.strokeStyle=`hsl(${10*Math.log10(i)},50%,50%)`);let v=c+2*t,y=Math.min(a+s(g),i);n?i>1e5?(_(o,c+s(g),a,"red"),_(o,d+s(g),a,"red")):(m?o.arc(c+t+s(g),0,i,0,Math.PI):o.bezierCurveTo(c+s(g),y,v,y,v+s(g),0),o.stroke()):(o.bezierCurveTo(c+s(g),y,v,y,v+s(g),0),o.stroke())}else P&&d&&_(o,P-h.offsetPx,a,"purple")}}},1698:function(r,o,e){e.d(o,{If:function(){return n},Wh:function(){return i},k5:function(){return _},uE:function(){return c},ue:function(){return l}});var t=e(93755);let n={color_fwd_strand_not_proper:"#ECC8C8",color_rev_strand_not_proper:"#BEBED8",color_fwd_strand:"#EC8B8B",color_rev_strand:"#8F8FD8",color_fwd_missing_mate:"#D11919",color_rev_missing_mate:"#1919D1",color_fwd_diff_chr:"#000",color_rev_diff_chr:"#969696",color_pair_lr:"#c8c8c8",color_pair_rr:"navy",color_pair_rl:"teal",color_pair_ll:"green",color_nostrand:"#c8c8c8",color_interchrom:"purple",color_longinsert:"red",color_shortinsert:"pink",color_unknown:"grey"},l={color_fwd_strand_not_proper:"#CA6767",color_rev_strand_not_proper:"#7272AA",color_fwd_strand:"#DC2A2A",color_rev_strand:"#4141BA",color_fwd_missing_mate:"#921111",color_rev_missing_mate:"#111192",color_fwd_diff_chr:"#000000",color_rev_diff_chr:"#696969",color_pair_lr:"#8C8C8C",color_pair_rr:"#00005A",color_pair_rl:"#005A5A",color_pair_ll:"#005A00",color_nostrand:"#8C8C8C",color_interchrom:"#5A005A",color_longinsert:"#B30000",color_shortinsert:"#FF3A5C",color_unknown:"grey"};function i(r,o,e){let t=r.refName===o.refName,i=Math.abs(r.tlen||0);return t&&i>((null==e?void 0:e.upper)||0)?[n.color_longinsert,l.color_longinsert]:t&&i<((null==e?void 0:e.lower)||0)?[n.color_shortinsert,l.color_shortinsert]:t?void 0:[n.color_interchrom,l.color_interchrom]}let s=[n.color_unknown,n.color_unknown];function _(r,o,e){return a(r)||i(r,o,e)||s}function a(r){let o=t.uD.fr[r.pair_orientation||""],e=t.oL[o];return"LR"===o?void 0:[n[e],l[e]]}function c(r){return a(r)||s}}}]);