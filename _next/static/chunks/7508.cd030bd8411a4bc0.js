"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7508],{27508:function(e,t,n){n.d(t,{doAfterAttach:function(){return o}});var a=n(42382),i=n(93755),s=n(63168);async function r(e){let t=(0,s.getRpcSessionId)(e),{rpcManager:n}=(0,a.getSession)(e),i=(0,a.getContainingView)(e);if(!i.initialized||e.error||!e.statsReadyAndRegionNotTooLarge)return;e.setLoading(!0);let r=await n.call(t,"PileupGetReducedFeatures",{sessionId:t,regions:i.staticBlocks.contentBlocks,filterBy:e.filterBy,adapterConfig:e.adapterConfig});e.setChainData(r),e.setLoading(!1)}function o(e,t){function n(n){let a=e.ref;if(!a)return;let i=a.getContext("2d");i&&e.chainData&&(i.clearRect(0,0,a.width,2*e.height),i.resetTransform(),i.scale(2,2),t(e,i,a.width,e.height),e.setLastDrawnOffsetPx(n.offsetPx),e.setLastDrawnBpPerPx(n.bpPerPx))}(0,i.$X)(e,async()=>{await r(e)},{delay:1e3}),(0,i.$X)(e,async()=>{let t=(0,a.getContainingView)(e);t.bpPerPx!==e.lastDrawnBpPerPx&&n(t)}),(0,i.$X)(e,async()=>{n((0,a.getContainingView)(e))},{delay:1e3})}}}]);