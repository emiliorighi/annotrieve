"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9784],{9784:function(e,t,i){i.d(t,{getMultiVariantFeaturesAutorun:function(){return u}});var n=i(42382),s=i(3425),a=i(47368),o=i(63168),r=i(74679),l=i(91904);function u(e){(0,l.addDisposer)(e,(0,r.autorun)(async()=>{try{let t=(0,n.getContainingView)(e);if(!t.initialized||!e.statsReadyAndRegionNotTooLarge)return;let i=(0,a.createStopToken)();e.setSimplifiedFeaturesLoading(i);let{rpcManager:s}=(0,n.getSession)(e),{lengthCutoffFilter:r,sources:u,minorAlleleFrequencyFilter:c,adapterConfig:d}=e;if(u){let a=(0,o.getRpcSessionId)(e),{sampleInfo:p,hasPhased:f,features:g}=await s.call(a,"MultiVariantGetSimplifiedFeatures",{regions:t.dynamicBlocks.contentBlocks,sources:u,minorAlleleFrequencyFilter:c,lengthCutoffFilter:r,sessionId:a,adapterConfig:d,stopToken:i});(0,l.isAlive)(e)&&(e.setHasPhased(f),e.setSampleInfo(p),e.setFeatures(g.map(e=>new n.SimpleFeature(e))))}}catch(t){console.error(t),!(0,s.isAbortException)(t)&&(0,l.isAlive)(e)&&(0,n.getSession)(e).notifyError(`${t}`,t)}},{delay:1e3}))}}}]);