"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3574],{93574:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var r=a(77207),n=a(42382),s=a(52427),i=a(47358),d=a(15097);class u extends r.BaseFeatureDataAdapter{async configure(){var e;let t=await (null===(e=this.getSubAdapter)||void 0===e?void 0:e.call(this,this.getConf("sequenceAdapter")));if(!t)throw Error("Error getting subadapter");return t.dataAdapter}async getRefNames(){return(await this.configure()).getRefNames()}getFeatures(e,t){return(0,s.ObservableCreate)(async a=>{var r;let s=await this.configure(),u=e.end+1e4,f=Math.max(0,e.start-1e4);if(u<0||f>u){a.complete();return}let l=s.getFeatures({...e,start:f,end:u},t),o=(null===(r=(await (0,i.z)(l.pipe((0,d.q)())))[0])||void 0===r?void 0:r.get("seq"))||"",c=this.getConf("search"),h=this.getConf("searchForward"),g=this.getConf("searchReverse"),m=this.getConf("caseInsensitive"),p=RegExp(c,`g${m?"i":""}`);if(c){if(h)for(let t of o.matchAll(p)){let r=f+t.index,s=f+t.index+t[0].length;(0,n.doesIntersect2)(r,s,e.start,e.end)&&a.next(new n.SimpleFeature({uniqueId:`${this.id}-${r}-${t[0]}-pos`,refName:e.refName,start:r,end:s,name:t[0],strand:1}))}if(g)for(let t of(0,n.revcom)(o).matchAll(p)){let r=u-t.index,s=u-t.index-t[0].length;(0,n.doesIntersect2)(s,r,e.start,e.end)&&a.next(new n.SimpleFeature({uniqueId:`${this.id}-${s}-${t[0]}-neg`,refName:e.refName,start:s,end:r,name:t[0],strand:-1}))}}a.complete()})}}}}]);