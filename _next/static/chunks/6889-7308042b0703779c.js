"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6889],{55842:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isUMDPluginDefinition=l,t.isESMPluginDefinition=c,t.isCJSPluginDefinition=u,t.pluginDescriptionString=p,t.pluginUrl=function(e){var t,r,n,o,a,i;return l(e)?null!==(n=null!==(t=e.url)&&void 0!==t?t:null===(r=e.umdLoc)||void 0===r?void 0:r.uri)&&void 0!==n?n:e.umdUrl:c(e)?null!==(a=null!==(o=e.esmUrl)&&void 0!==o?o:e.esmUri)&&void 0!==a?a:null===(i=e.esmLoc)||void 0===i?void 0:i.uri:u(e)?e.cjsUrl||e.cjsLoc.uri:"unknown url"};let o=n(r(26649)),a=n(r(89202)),i=n(r(13158)),s=r(42382);function l(e){return(void 0!==e.umdUrl||void 0!==e.url||void 0!==e.umdLoc)&&void 0!==e.name}function c(e){return void 0!==e.esmUrl||void 0!==e.esmLoc}async function d(e){if(!("WorkerGlobalScope"in globalThis))return new Promise((t,r)=>{(0,o.default)(e,(e,n)=>{e?r(e):t(n.src)})});if(globalThis.importScripts){await globalThis.importScripts(e);return}throw Error("cannot figure out how to load external JS scripts in this environment")}function u(e){return void 0!==e.cjsUrl}function p(e){return l(e)?`UMD plugin ${e.name}`:c(e)?`ESM plugin ${e.esmUrl||e.esmLoc.uri}`:u(e)?`CJS plugin ${e.cjsUrl}`:"unknown plugin"}class f{constructor(e=[],t){this.definitions=[],this.fetchESM=null==t?void 0:t.fetchESM,this.fetchCJS=null==t?void 0:t.fetchCJS,this.definitions=JSON.parse(JSON.stringify(e))}async loadCJSPlugin(e,t){let r=new URL(e.cjsUrl,t);if("http:"!==r.protocol&&"https:"!==r.protocol)throw Error(`Cannot load plugins using protocol "${r.protocol}"`);if(!this.fetchCJS)throw Error("No fetchCJS callback provided");return this.fetchCJS(r.href)}async loadESMPlugin(e,t){let r="esmUrl"in e?new URL(e.esmUrl,t):new URL(e.esmLoc.uri,e.esmLoc.baseUri);if("http:"!==r.protocol&&"https:"!==r.protocol)throw Error(`cannot load plugins using protocol "${r.protocol}"`);if(!this.fetchESM)throw Error("No ESM fetcher installed");let n=await this.fetchESM(r.href);if(!n)throw Error(`Could not load ESM plugin: ${r}`);return n}async loadUMDPlugin(e,t){let r="url"in e?new URL(e.url,t):"umdUrl"in e?new URL(e.umdUrl,t):new URL(e.umdLoc.uri,e.umdLoc.baseUri);if("http:"!==r.protocol&&"https:"!==r.protocol)throw Error(`cannot load plugins using protocol "${r.protocol}"`);let n=e.name,o=`JBrowsePlugin${n}`;"undefined"==typeof jest?await d(r.href):globalThis[o]={default:a.default};let i=globalThis[o];if(!i)throw Error(`Failed to load UMD bundle for ${n}, ${o} is undefined`);return i}async loadPlugin(e,t){let r;if(s.isElectron&&u(e))r=await this.loadCJSPlugin(e,t);else if(c(e))r=await this.loadESMPlugin(e,t);else if(l(e))r=await this.loadUMDPlugin(e,t);else if(!s.isElectron&&u(e))throw Error(`CommonJS plugin found, but not in a NodeJS environment: ${JSON.stringify(e)}`);else throw Error(`Could not determine plugin type: ${JSON.stringify(e)}`);if(!r.default)throw Error(`${p(e)} does not have a default export, cannot load`);return r.default}installGlobalReExports(e){return e.JBrowseExports=Object.fromEntries(Object.entries(i.default).map(([e,t])=>[e,t])),this}async load(e){return Promise.all(this.definitions.map(async t=>({plugin:await this.loadPlugin(t,e),definition:t})))}}t.default=f},67919:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let o=r(91904),a=n(r(76978)),i=n(r(94745)),s=n(r(13158)),l=r(87290),c=n(r(76141)),d=n(r(65198)),u=n(r(75885)),p=n(r(15440)),f=n(r(44886)),h=n(r(60989)),g=n(r(21035)),m=n(r(74744)),y=n(r(86533)),b=n(r(68327)),v=n(r(35433)),w=n(r(69819));class k{constructor(e,t){this.typeName=e,this.baseClass=t,this.registeredTypes={}}add(e,t){this.registeredTypes[e]=t}has(e){return e in this.registeredTypes}get(e){if(!this.has(e))throw Error(`${this.typeName} '${e}' not found, perhaps its plugin is not loaded or its plugin has not added it.`);return this.registeredTypes[e]}all(){return Object.values(this.registeredTypes)}}class T{constructor(e=[]){for(let t of(this.plugins=[],this.jexl=(0,w.default)(),this.pluginMetadata={},this.runtimePluginDefinitions=[],this.elementCreationSchedule=new i.default("renderer","adapter","text search adapter","display","track","connection","view","widget","rpc method","internet account","add track workflow"),this.rendererTypes=new k("RendererType",v.default),this.adapterTypes=new k("AdapterType",c.default),this.textSearchAdapterTypes=new k("TextSearchAdapterType",g.default),this.trackTypes=new k("TrackType",m.default),this.displayTypes=new k("DisplayType",p.default),this.connectionTypes=new k("ConnectionType",u.default),this.viewTypes=new k("ViewType",y.default),this.widgetTypes=new k("WidgetType",b.default),this.rpcMethods=new k("RpcMethodType",h.default),this.addTrackWidgets=new k("AddTrackWorkflow",d.default),this.internetAccountTypes=new k("InternetAccountType",f.default),this.configured=!1,this.extensionPoints=new Map,this.jbrequireCache=new Map,this.lib=s.default,this.load=e=>(this.jbrequireCache.has(e)||this.jbrequireCache.set(e,e(this)),this.jbrequireCache.get(e)),this.jbrequire=e=>{if("string"==typeof e){let t=this.lib[e];if(!t)throw TypeError(`No jbrequire re-export defined for package '${e}'. If this package must be shared between plugins, add it to ReExports.js. If it does not need to be shared, just import it normally.`);return t}if("function"==typeof e)return this.load(e);if(e.default)return console.warn("initiated jbrequire on a {default:Function}"),this.jbrequire(e.default);throw TypeError("lib passed to jbrequire must be either a string or a function")},this.addPlugin({plugin:new a.default,metadata:{isCore:!0}}),e))this.addPlugin(t)}pluginConfigurationNamespacedSchemas(){let e={};for(let t of this.plugins)t.configurationSchema&&(e[t.name]=t.configurationSchema);return e}pluginConfigurationUnnamespacedSchemas(){let e={};for(let t of this.plugins)t.configurationSchemaUnnamespaced&&(e={...e,...t.configurationSchemaUnnamespaced});return e}pluginConfigurationRootSchemas(){let e={};for(let t of this.plugins)t.rootConfigurationSchema&&(e={...e,...t.rootConfigurationSchema(this)});return e}addPlugin(e){if(this.configured)throw Error("JBrowse already configured, cannot add plugins");let[t,r={}]="install"in e&&"configure"in e?[e,{}]:[e.plugin,e.metadata];if(this.plugins.includes(t))throw Error("plugin already installed");return this.pluginMetadata[t.name]=r,"definition"in e&&this.runtimePluginDefinitions.push(e.definition),t.install(this),this.plugins.push(t),this}getPlugin(e){return this.plugins.find(t=>t.name===e)}hasPlugin(e){return void 0!==this.getPlugin(e)}createPluggableElements(){return this.elementCreationSchedule&&(this.elementCreationSchedule.run(),this.elementCreationSchedule=void 0),this}setRootModel(e){return this.rootModel=e,this}configure(){if(this.configured)throw Error("already configured");for(let e of this.plugins)e.configure(this);return this.configured=!0,this}getElementTypeRecord(e){switch(e){case"adapter":return this.adapterTypes;case"text search adapter":return this.textSearchAdapterTypes;case"connection":return this.connectionTypes;case"widget":return this.widgetTypes;case"renderer":return this.rendererTypes;case"display":return this.displayTypes;case"track":return this.trackTypes;case"view":return this.viewTypes;case"rpc method":return this.rpcMethods;case"internet account":return this.internetAccountTypes;case"add track workflow":return this.addTrackWidgets;default:throw Error(`invalid element type '${e}'`)}}addElementType(e,t){var r;if("function"!=typeof t)throw Error("must provide a callback function that returns the new type object");let n=this.getElementTypeRecord(e);return null===(r=this.elementCreationSchedule)||void 0===r||r.add(e,()=>{let r=t(this);if(!r.name)throw Error(`cannot add a ${e} with no name`);n.has(r.name)?console.warn(`${e} ${r.name} already registered, cannot register it again`):n.add(r.name,this.evaluateExtensionPoint("Core-extendPluggableElement",r))}),this}getElementType(e,t){return this.getElementTypeRecord(e).get(t)}getElementTypesInGroup(e){return this.getElementTypeRecord(e).all()}getViewElements(){return this.getElementTypesInGroup("view")}getTrackElements(){return this.getElementTypesInGroup("track")}getConnectionElements(){return this.getElementTypesInGroup("connection")}getAddTrackWorkflowElements(){return this.getElementTypesInGroup("add track workflow")}getRpcElements(){return this.getElementTypesInGroup("rpc method")}getDisplayElements(){return this.getElementTypesInGroup("display")}getAdapterElements(){return this.getElementTypesInGroup("adapter")}pluggableMstType(e,t,r=o.types.maybe(o.types.null)){let n=this.getElementTypeRecord(e).all().map(e=>e[t]).filter(e=>(0,o.isType)(e)&&(0,o.isModelType)(e));return 0===n.length&&"undefined"==typeof jest?(console.warn(`No pluggable types found matching ('${e}','${t}')`),r):o.types.union(...n)}pluggableConfigSchemaType(e,t="configSchema"){let r=this.getElementTypeRecord(e).all().map(e=>e[t]).filter(e=>(0,l.isBareConfigurationSchemaType)(e));return 0===r.length&&r.push((0,l.ConfigurationSchema)("Null",{})),o.types.union(...r)}getRendererType(e){return this.rendererTypes.get(e)}getRendererTypes(){return this.rendererTypes.all()}getAdapterType(e){return this.adapterTypes.get(e)}getTextSearchAdapterType(e){return this.textSearchAdapterTypes.get(e)}getTrackType(e){return this.trackTypes.get(e)}getDisplayType(e){return this.displayTypes.get(e)}getViewType(e){return this.viewTypes.get(e)}getAddTrackWorkflow(e){return this.addTrackWidgets.get(e)}getWidgetType(e){return this.widgetTypes.get(e)}getConnectionType(e){return this.connectionTypes.get(e)}getRpcMethodType(e){return this.rpcMethods.get(e)}getInternetAccountType(e){return this.internetAccountTypes.get(e)}addRendererType(e){return this.addElementType("renderer",e)}addAdapterType(e){return this.addElementType("adapter",e)}addTextSearchAdapterType(e){return this.addElementType("text search adapter",e)}addTrackType(e){return this.addElementType("track",()=>{let t=e(this);for(let e of this.getElementTypesInGroup("display"))e.trackType!==t.name||t.displayTypes.includes(e)||t.addDisplayType(e);return t})}addDisplayType(e){return this.addElementType("display",e)}addViewType(e){return this.addElementType("view",()=>{let t=e(this);for(let e of this.getElementTypesInGroup("display"))e.viewType!==t.name&&e.viewType!==t.extendedName||t.displayTypes.includes(e)||t.addDisplayType(e);return t})}addWidgetType(e){return this.addElementType("widget",e)}addConnectionType(e){return this.addElementType("connection",e)}addRpcMethod(e){return this.addElementType("rpc method",e)}addInternetAccountType(e){return this.addElementType("internet account",e)}addAddTrackWorkflowType(e){return this.addElementType("add track workflow",e)}addToExtensionPoint(e,t){let r=this.extensionPoints.get(e);r||(r=[],this.extensionPoints.set(e,r)),r.push(t)}evaluateExtensionPoint(e,t,r){let n=this.extensionPoints.get(e),o=t;if(n)for(let e of n)try{o=e(o,r)}catch(e){console.error(e)}return o}async evaluateAsyncExtensionPoint(e,t,r){let n=this.extensionPoints.get(e),o=t;if(n)for(let e of n)try{o=await e(o,r)}catch(e){console.error(e)}return o}}t.default=T},83938:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let o=n(r(52018)),a=r(87290),i=n(r(47858));class s{constructor(e){this.pluginManager=e,this.adapterCache=new i.default({maxSize:15})}loadTextSearchAdapters(e){return Promise.all(this.relevantAdapters(e).map(async e=>{let t=(0,a.readConfObject)(e,"textSearchAdapterId"),r=this.adapterCache.get(t);if(r)return r;{let r=this.pluginManager.getTextSearchAdapterType(e.type),n=new(await r.getAdapterClass())(e,void 0,this.pluginManager);return this.adapterCache.set(t,n),n}}))}relevantAdapters(e){let t=this.pluginManager.rootModel,{aggregateTextSearchAdapters:r}=null==t?void 0:t.jbrowse,{tracks:n}=null==t?void 0:t.session,{assemblyName:o}=e;return[...this.getAdaptersWithAssembly(o,r),...this.getTrackAdaptersWithAssembly(o,n)]}getAdaptersWithAssembly(e,t){return t.filter(t=>{var r;return null===(r=(0,a.readConfObject)(t,"assemblyNames"))||void 0===r?void 0:r.includes(e)})}getTrackAdaptersWithAssembly(e,t){return t.filter(t=>{var r;return null===(r=(0,a.readConfObject)(t,["textSearching","textSearchAdapter","assemblyNames"]))||void 0===r?void 0:r.includes(e)}).map(e=>e.textSearching.textSearchAdapter)}async search(e,t,r){return this.search2({args:e,searchScope:t,rankFn:r})}async search2({args:e,searchScope:t,rankFn:r}){let n=await this.loadTextSearchAdapters(t),o=await Promise.all(n.map(t=>t.searchIndex(e)));return this.sortResults2({args:e,results:o.flat(),rankFn:r})}sortResults2({results:e,rankFn:t,args:r}){let n=new o.default({}),a=e.map(e=>e.getDisplayString()),i=r.queryString,s=n.filter(a,i),l=[];if(null!=s&&s.length>0){let t=n.info(s,a,i);for(let r of n.sort(t,a,i))l.push(e[t.idx[r]])}return t(l)}}t.default=s},37099:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let r=new o.default({cache:new d.default({maxSize:1e3}),async fill(e,t,r){let{adapterConf:n,self:o,options:a}=e;return f(o,n,{...a,statusCallback:r})}});return i.types.model({configuration:i.types.safeReference(e)}).volatile(()=>({error:void 0,loadingP:void 0,volatileRegions:void 0,refNameAliases:void 0,cytobands:void 0})).views(e=>({getConf:t=>e.configuration?(0,s.getConf)(e,t):void 0,get lowerCaseRefNameAliases(){return e.refNameAliases?Object.fromEntries(Object.entries(e.refNameAliases).map(([e,t])=>[e.toLowerCase(),t])):void 0}})).views(e=>({get initialized(){return e.load(),!!e.refNameAliases},get name(){return e.getConf("name")||""},get regions(){return e.load(),e.volatileRegions},get aliases(){return e.getConf("aliases")||[]},get displayName(){return e.getConf("displayName")||e.getConf("name")||""},hasName(e){return this.allAliases.includes(e)},get allAliases(){return[this.name,...this.aliases]},get allRefNames(){return e.refNameAliases?Object.keys(e.refNameAliases):void 0},get lowerCaseRefNames(){return e.lowerCaseRefNameAliases?Object.keys(e.lowerCaseRefNameAliases):void 0},get allRefNamesWithLowerCase(){return this.allRefNames&&this.lowerCaseRefNames?[...new Set([...this.allRefNames,...this.lowerCaseRefNames])]:void 0},get rpcManager(){return(0,i.getParent)(e,2).rpcManager},get refNameColors(){let t=e.getConf("refNameColors")||[];return 0===t.length?p:t}})).views(e=>({get refNames(){var t;return null===(t=e.regions)||void 0===t?void 0:t.map(e=>e.refName)}})).views(e=>({getCanonicalRefName(t){if(!e.refNameAliases||!e.lowerCaseRefNameAliases)throw Error("aliases not loaded, we expect them to be loaded before getCanonicalRefName can be called");return e.refNameAliases[t]||e.lowerCaseRefNameAliases[t]},getRefNameColor(t){if(!e.refNames)return;let r=e.refNames.indexOf(t);return -1===r?void 0:e.refNameColors[r%e.refNameColors.length]},isValidRefName(t){if(!e.refNameAliases)throw Error("isValidRefName cannot be called yet, the assembly has not finished loading");return!!this.getCanonicalRefName(t)}})).actions(e=>({setLoaded({regions:e,refNameAliases:t,cytobands:r}){this.setRegions(e),this.setRefNameAliases(t),this.setCytobands(r)},setError(t){e.error=t},setRegions(t){e.volatileRegions=t},setRefNameAliases(t){e.refNameAliases=t},setCytobands(t){e.cytobands=t},setLoadingP(t){e.loadingP=t},load(){return e.loadingP||(e.loadingP=this.loadPre().catch(e=>{this.setLoadingP(void 0),this.setError(e)})),e.loadingP},async loadPre(){var r,n,o;let a=e.configuration,i=null===(r=null==a?void 0:a.refNameAliases)||void 0===r?void 0:r.adapter,s=null===(n=null==a?void 0:a.cytobands)||void 0===n?void 0:n.adapter,l=null==a?void 0:a.sequence.adapter,c=e.name,d=await y({config:l,pluginManager:t});for(let e of d)h(e.refName);let u={};for(let{refName:e,aliases:r,override:n}of(await g({config:i,pluginManager:t}))){for(let t of r)h(t),u[t]=e;n&&(u[e]=e)}for(let e of d)u[o=e.refName]||(u[o]=e.refName);this.setLoaded({refNameAliases:u,regions:d.map(e=>({...e,refName:u[e.refName]||e.refName,assemblyName:c})),cytobands:await m({config:s,pluginManager:t})})}})).views(e=>({getAdapterMapEntry(t,n){let{stopToken:o,statusCallback:a,...i}=n;if(!n.sessionId)throw Error("sessionId is required");return r.get((0,l.adapterConfigCacheKey)(t),{adapterConf:t,self:e,options:i},void 0,a)},async getRefNameMapForAdapter(e,t){if(!t.sessionId)throw Error("sessionId is required");return(await this.getAdapterMapEntry(e,t)).forwardMap},async getReverseRefNameMapForAdapter(e,t){return(await this.getAdapterMapEntry(e,t)).reverseMap},afterCreate(){(0,i.addDisposer)(e,(0,a.autorun)(()=>{e.allRefNamesWithLowerCase}))}}))};let o=n(r(59303)),a=r(74679),i=r(91904),s=r(87290),l=r(3578),c=r(42382),d=n(r(47858)),u=RegExp("[0-9A-Za-z!#$%&+./:;?@^_|~-][0-9A-Za-z!#$%&*+./:;=?@^_|~-]*"),p=["rgb(153, 102, 0)","rgb(102, 102, 0)","rgb(153, 153, 30)","rgb(204, 0, 0)","rgb(255, 0, 0)","rgb(255, 0, 204)","rgb(165, 132, 132)","rgb(204, 122, 0)","rgb(178, 142, 0)","rgb(153, 153, 0)","rgb(122, 153, 0)","rgb(0, 165, 0)","rgb(53, 128, 0)","rgb(0, 0, 204)","rgb(96, 145, 242)","rgb(107, 142, 178)","rgb(0, 165, 165)","rgb(122, 153, 153)","rgb(153, 0, 204)","rgb(204, 51, 255)","rgb(173, 130, 216)","rgb(102, 102, 102)","rgb(145, 145, 145)","rgb(142, 142, 142)","rgb(142, 142, 107)","rgb(96, 163, 48)"];async function f(e,t,r,n){let{sessionId:o}=r;await (0,c.when)(()=>!!(e.regions&&e.refNameAliases),{name:"when assembly ready"});let a=await e.rpcManager.call(o||"assemblyRpc","CoreGetRefNames",{adapterConfig:t,stopToken:n,...r},{timeout:1e6}),{refNameAliases:i}=e;if(!i)throw Error(`error loading assembly ${e.name}'s refNameAliases`);let s=Object.fromEntries(a.map(t=>(h(t),[e.getCanonicalRefName(t),t])));return{forwardMap:s,reverseMap:Object.fromEntries(Object.entries(s).map(([e,t])=>[t,e]))}}function h(e){if(!u.test(e))throw Error(`Encountered invalid refName: "${e}"`)}async function g({config:e,pluginManager:t,stopToken:r}){let n=t.getAdapterType(e.type);return new(await n.getAdapterClass())(e,void 0,t).getRefNameAliases({stopToken:r})}async function m({config:e,pluginManager:t}){let r=t.getAdapterType(e.type);return new(await r.getAdapterClass())(e,void 0,t).getData()}async function y({config:e,pluginManager:t,stopToken:r}){let n=t.getAdapterType(e.type);return new(await n.getAdapterClass())(e,void 0,t).getRegions({stopToken:r})}},62772:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});let n=r(87290);t.default=function(e){return(0,n.ConfigurationSchema)("BaseAssembly",{aliases:{type:"stringArray",defaultValue:[],description:"Other possible names for the assembly"},sequence:e.getTrackType("ReferenceSequenceTrack").configSchema,refNameColors:{type:"stringArray",defaultValue:[],description:"Define custom colors for each reference sequence. Will cycle through this list if there are not enough colors for every sequence."},refNameAliases:(0,n.ConfigurationSchema)("RefNameAliases",{adapter:e.pluggableConfigSchemaType("adapter")},{preProcessSnapshot:e=>e.adapter?e:{adapter:{type:"RefNameAliasAdapter"}}}),cytobands:(0,n.ConfigurationSchema)("Cytoband",{adapter:e.pluggableConfigSchemaType("adapter")},{preProcessSnapshot:e=>e.adapter?e:{adapter:{type:"CytobandAdapter"}}}),displayName:{type:"string",defaultValue:"",description:'A human readable display name for the assembly e.g. "Homo sapiens (hg38)" while the assembly name may just be "hg38"'}},{explicitIdentifier:"name"})}},3093:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let o=r(74679),a=r(91904),i=r(87290),s=r(42382),l=n(r(37099));t.default=function(e,t){return a.types.model({assemblies:a.types.array((0,l.default)(e,t))}).views(e=>({get assemblyNameMap(){let t={};for(let r of e.assemblies)for(let e of r.allAliases)t[e]=r;return t}})).views(e=>({getCanonicalAssemblyName(t){var r;return null===(r=e.assemblyNameMap[t])||void 0===r?void 0:r.name},get(r){if(r){let n=e.assemblyNameMap[r];if(n)return n;this.assemblyNamesList.includes(r)||t.evaluateExtensionPoint("Core-handleUnrecognizedAssembly",void 0,{assemblyName:r,session:(0,a.getParent)(e).session})}},get assemblyNamesList(){return this.assemblyList.map(e=>e.name)},get assemblyList(){let{jbrowse:{assemblies:t},session:{sessionAssemblies:r=[],temporaryAssemblies:n=[]}={}}=(0,a.getParent)(e);return[...t,...r,...n]},get rpcManager(){return(0,a.getParent)(e).rpcManager}})).views(e=>({async waitForAssembly(t){if(!t)throw Error("no assembly name supplied to waitForAssembly");let r=e.get(t);if(!r)try{await (0,s.when)(()=>!!e.get(t),{timeout:1e4}),r=e.get(t)}catch(e){}if(r){if(await r.load(),await (0,s.when)(()=>!!(r.regions&&r.refNameAliases)||!!r.error),r.error)throw r.error;return r}},async getRefNameMapForAdapter(e,t,r){if(t){let n=await this.waitForAssembly(t);return null==n?void 0:n.getRefNameMapForAdapter(e,r)}return{}},async getReverseRefNameMapForAdapter(e,t,r){if(t){let n=await this.waitForAssembly(t);return null==n?void 0:n.getReverseRefNameMapForAdapter(e,r)}return{}},isValidRefName(t,r){let n=e.get(r);if(n)return n.isValidRefName(t);throw Error(`Failed to look up refName:${t} on assemblyName:${r} (assembly does not exist)`)}})).actions(e=>({afterAttach(){(0,a.addDisposer)(e,(0,o.reaction)(()=>e.assemblyList,t=>{for(let t of e.assemblies)t.configuration||this.removeAssembly(t);for(let r of t){let t=(0,i.readConfObject)(r,"name");e.assemblies.some(e=>e.name===t)||this.addAssembly(r)}},{fireImmediately:!0,name:"assemblyManagerAfterAttach"}))},removeAssembly(t){e.assemblies.remove(t)},addAssembly(t){e.assemblies.push({configuration:t})}}))}},61853:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.assemblyConfigSchemaFactory=t.default=void 0;var o=r(3093);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(o).default}});var a=r(62772);Object.defineProperty(t,"assemblyConfigSchemaFactory",{enumerable:!0,get:function(){return n(a).default}})},71823:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});let n=r(91904),o=r(87290),a=r(42382);function i(e){return"function"!=typeof e&&!(e instanceof Error)}class s{constructor(e){this.driver=e}async getWorker(){return this.workerP||(this.workerP=this.driver.makeWorker().catch(e=>{throw this.workerP=void 0,e})),this.workerP}}class l{constructor(e){this.lastWorkerAssignment=-1,this.workerAssignments=new Map,this.maxPingTime=3e4,this.workerCheckFrequency=5e3,this.config=e.config}filterArgs(e,t){if(Array.isArray(e))return e.filter(e=>i(e)).map(e=>this.filterArgs(e,t));if("object"!=typeof e||null===e)return e;if((0,n.isStateTreeNode)(e)&&!(0,n.isAlive)(e))throw Error("dead state tree node passed to RPC call");return e instanceof File?e:Object.fromEntries(Object.entries(e).filter(e=>i(e[1])).map(([e,r])=>[e,this.filterArgs(r,t)]))}async remoteAbort(e,t,r){let n=await this.getWorker(e);await n.call(t,{stopTokenId:r},{timeout:1e6,rpcDriverClassName:this.name})}createWorkerPool(){let e=function(){let e="undefined"!=typeof window,t=e&&"hardwareConcurrency"in window.navigator;return e&&t?window.navigator.hardwareConcurrency:1}(),t=(0,o.readConfObject)(this.config,"workerCount")||(0,a.clamp)(1,Math.max(1,e-1),5),r=[];for(let e=0;e<t;e++)r.push(new s(this));return r}getWorkerPool(){if(!this.workerPool){let e=this.createWorkerPool();return this.workerPool=e,e}return this.workerPool}async getWorker(e){let t=this.getWorkerPool(),r=this.workerAssignments.get(e);if(void 0===r){let n=(this.lastWorkerAssignment+1)%t.length;this.workerAssignments.set(e,n),this.lastWorkerAssignment=n,r=n}return t[r].getWorker()}async call(e,t,r,n,o={}){if(!t)throw TypeError("sessionId is required");let a=await this.getWorker(t),i=e.evaluateExtensionPoint("Core-extendWorker",a),s=e.getRpcMethodType(r);if(!s)throw Error(`unknown RPC method ${r}`);let l=await s.serializeArguments(n,this.name),c=this.filterArgs(l,t),d=await i.call(r,c,{timeout:3e5,statusCallback:n.statusCallback,rpcDriverClassName:this.name,...o});return s.deserializeReturn(d,n,this.name)}}t.default=l},80040:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let o=n(r(71823));class a{destroy(){}async call(e,t,r={}){}}class i extends o.default{constructor(e){super(e),this.name="MainThreadRpcDriver",this.makeWorker=async()=>new a}async call(e,t,r,n){if(!t)throw TypeError("sessionId is required");let o=e.getRpcMethodType(r);if(!o)throw Error(`unknown RPC method ${r}`);let a=await o.serializeArguments(n,this.name),i=await o.execute(a,this.name);return o.deserializeReturn(i,n,this.name)}}t.default=i},93507:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let o=r(87290),a=n(r(80040)),i=n(r(78363)),s=n(r(94390));i.default,a.default;class l{constructor(e,t,r){this.pluginManager=e,this.mainConfiguration=t,this.backendConfigurations=r,this.driverObjects=new Map}getDriver(e){let t=this.driverObjects.get(e);if(t)return t;let r=this.mainConfiguration.drivers.get("WebWorkerRpcDriver");if("MainThreadRpcDriver"===e){let t=this.backendConfigurations.MainThreadRpcDriver;if(!t)throw Error(`requested RPC driver "${e}" is missing config`);let n=new a.default({...t,config:r});return this.driverObjects.set(e,n),n}if("WebWorkerRpcDriver"===e){let t=this.backendConfigurations.WebWorkerRpcDriver;if(!t)throw Error(`requested RPC driver "${e}" is missing config`);let n=new i.default({...t,config:r},{plugins:this.pluginManager.runtimePluginDefinitions,windowHref:window.location.href});return this.driverObjects.set(e,n),n}throw Error(`requested RPC driver "${e}" is not installed`)}async getDriverForCall(e,t,r){let n=r.rpcDriverName||(0,o.readConfObject)(this.mainConfiguration,"defaultDriver");return this.getDriver(n)}async call(e,t,r,n={}){if(!e)throw Error("sessionId is required");return(await this.getDriverForCall(e,t,r)).call(this.pluginManager,e,t,r,n)}}l.configSchema=s.default,t.default=l},78363:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let o=n(r(24444)),a=r(38256),i=n(r(71823)),s=r(81190);class l extends o.default.Client{destroy(){this.workers[0].terminate()}async call(e,t,r){let{statusCallback:n,rpcDriverClassName:o}=r,a=`message-${(0,s.nanoid)()}`,i=e=>{null==n||n(e)};this.on(a,i);let l=await super.call(e,{...t,channel:a,rpcDriverClassName:o},r);return this.off(a,i),l}}class c extends i.default{constructor(e,t){super(e),this.workerBootConfiguration=t,this.name="WebWorkerRpcDriver",this.makeWorkerInstance=e.makeWorkerInstance}async makeWorker(){let e=this.makeWorkerInstance(),t=new l({workers:[e]});return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&console.log("console logging the webworker handle avoids the track going into an infinite loading state, this is a hacky workaround for safari",e),new Promise((e,r)=>{let n=o=>{switch(o.data.message){case"ready":e(t),t.workers[0].removeEventListener("message",n);break;case"readyForConfig":t.workers[0].postMessage({message:"config",config:this.workerBootConfiguration});break;case"error":r((0,a.deserializeError)(o.data.error))}};t.workers[0].addEventListener("message",n)})}}t.default=c},74735:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});let n=(0,r(87290).ConfigurationSchema)("BaseRpcDriver",{workerCount:{type:"number",description:"The number of workers to use. If 0 (the default) JBrowse will decide how many workers to use.",defaultValue:0}},{explicitlyTyped:!0});t.default=n},94390:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let o=r(91904),a=r(87290),i=n(r(68804)),s=n(r(82911));t.default=(0,a.ConfigurationSchema)("RpcOptions",{defaultDriver:{type:"string",description:"the RPC driver to use for tracks and tasks that are not configured to use a specific RPC backend",defaultValue:"MainThreadRpcDriver"},drivers:o.types.optional(o.types.map(o.types.union(i.default,s.default)),{MainThreadRpcDriver:{type:"MainThreadRpcDriver"},WebWorkerRpcDriver:{type:"WebWorkerRpcDriver"}})},{actions:e=>({addDriverConfig(t,r){e.drivers.set(t,r)}})})},68804:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let o=r(87290),a=n(r(74735)),i=(0,o.ConfigurationSchema)("MainThreadRpcDriver",{},{baseConfiguration:a.default,explicitlyTyped:!0});t.default=i},82911:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let o=r(87290),a=n(r(74735)),i=(0,o.ConfigurationSchema)("WebWorkerRpcDriver",{},{baseConfiguration:a.default,explicitlyTyped:!0});t.default=i},58919:function(e,t,r){var n,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),i=0;i<r.length;i++)"default"!==r[i]&&o(t,e,r[i]);return a(t,e),t}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return p.types.model({}).volatile(()=>({snackbarMessages:u.observable.array()})).views(e=>({get snackbarMessageSet(){return new Map(e.snackbarMessages.map(e=>[e.message,e]))}})).actions(e=>({notify(e,t,r){this.pushSnackbarMessage(e,t,r),("info"===t||"success"===t)&&setTimeout(()=>{this.removeSnackbarMessage(e)},5e3)},notifyError(t,r,n){this.notify(t,"error",{name:(0,l.jsx)(d.default,{}),onClick:()=>{e.queueDialog(e=>[f,{onClose:e,error:r,extra:n}])}})},pushSnackbarMessage(t,r,n){(n||!e.snackbarMessageSet.has(t))&&e.snackbarMessages.push({message:t,level:r,action:n})},popSnackbarMessage:()=>e.snackbarMessages.pop(),removeSnackbarMessage(t){let r=e.snackbarMessageSet.get(t);void 0!==r&&e.snackbarMessages.remove(r)}}))};let l=r(57437),c=r(2265),d=s(r(85519)),u=r(74679),p=r(91904),f=(0,c.lazy)(()=>Promise.resolve().then(()=>i(r(49502))))},63168:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.UNSUPPORTED=t.UNKNOWN=void 0,t.getTrackAssemblyNames=function(e){return i(e.configuration)},t.getConfAssemblyNames=i,t.getRpcSessionId=function(e){let t;for(let r=e;!(0,n.isRoot)(r);r=(0,n.getParent)(r))"rpcSessionId"in r&&(t=r.rpcSessionId);if(!t)throw Error("getRpcSessionId failed, no parent node in the state tree has an `rpcSessionId` attribute");return t},t.getParentRenderProps=function(e){for(let t=(0,n.getParent)(e);!(0,n.isRoot)(t);t=(0,n.getParent)(t))if("renderProps"in t)return t.renderProps();return{}},t.getBlob=function(e){return s[e]},t.getBlobMap=function(){return s},t.setBlobMap=function(e){s=e},t.storeBlobLocation=function(e){if("blob"in e){let t=`b${+Date.now()}-${l++}`;return s[t]=e.blob,{name:e.blob.name,blobId:t,locationType:"BlobLocation"}}return e},t.makeIndex=function(e,t){return"uri"in e?{uri:e.uri+t,locationType:"UriLocation"}:"localPath"in e?{localPath:e.localPath+t,locationType:"LocalPathLocation"}:e},t.makeIndexType=function(e,t,r){return(null==e?void 0:e.toUpperCase().endsWith(t))?t:r},t.getFileName=function(e){let t="uri"in e?e.uri:void 0,r="localPath"in e?e.localPath:void 0,n="blobId"in e?e:void 0;return(null==n?void 0:n.name)||(null==t?void 0:t.slice(t.lastIndexOf("/")+1))||(null==r?void 0:r.slice(r.replace(/\\/g,"/").lastIndexOf("/")+1))||""},t.guessAdapter=function(e,r,n,a){if(a){let{pluginManager:t}=(0,o.getEnv)(a),i=t.evaluateExtensionPoint("Core-guessAdapterForLocation",(e,t,r)=>{})(e,r,n);if(i)return i}return{type:t.UNKNOWN}},t.guessTrackType=function(e,t){if(t){let r=(0,o.getSession)(t),n=(0,o.getEnv)(r).pluginManager.evaluateExtensionPoint("Core-guessTrackTypeForLocation",e=>{})(e);if(n)return n}return"FeatureTrack"},t.generateUnsupportedTrackConf=function(e,t,r){let n={type:"FeatureTrack",name:`${e} (Unsupported)`,description:`Support not yet implemented for "${t}"`,category:r,trackId:""};return n.trackId=(0,o.objectHash)(n),n},t.generateUnknownTrackConf=function(e,t,r){let n={type:"FeatureTrack",name:`${e} (Unknown)`,description:`Could not determine track type for "${t}"`,category:r,trackId:""};return n.trackId=(0,o.objectHash)(n),n},t.getTrackName=function(e,t){let r=(0,a.readConfObject)(e,"name");if(!r&&"ReferenceSequenceTrack"===(0,a.readConfObject)(e,"type")){let r=t.assemblies.find(t=>t.sequence===e);return r?`Reference sequence (${(0,a.readConfObject)(r,"displayName")||(0,a.readConfObject)(r,"name")})`:"Reference sequence"}return r};let n=r(91904),o=r(42382),a=r(87290);function i(e){let t=(0,a.readConfObject)(e,"assemblyNames");if(!t){let t=(0,n.getParent)(e);if("sequence"in t)return[(0,a.readConfObject)(t,"name")];throw Error("unknown assembly names")}return t}t.UNKNOWN="UNKNOWN",t.UNSUPPORTED="UNSUPPORTED";let s={},l=0},22718:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FileLocation=t.UriLocation=t.UriLocationRaw=t.BlobLocation=t.LocalPathLocation=t.Region=t.NoAssemblyRegion=t.ElementId=void 0;let n=r(91904),o=r(81190);t.ElementId=n.types.optional(n.types.identifier,()=>(0,o.nanoid)()),t.NoAssemblyRegion=n.types.model("NoAssemblyRegion",{refName:n.types.string,start:n.types.number,end:n.types.number,reversed:n.types.optional(n.types.boolean,!1)}).actions(e=>({setRefName(t){e.refName=t}})),t.Region=n.types.compose("Region",t.NoAssemblyRegion,n.types.model({assemblyName:n.types.string})),t.LocalPathLocation=n.types.model("LocalPathLocation",{locationType:n.types.literal("LocalPathLocation"),localPath:n.types.string}),t.BlobLocation=n.types.model("BlobLocation",{locationType:n.types.literal("BlobLocation"),name:n.types.string,blobId:n.types.string}),t.UriLocationRaw=n.types.model("UriLocation",{locationType:n.types.literal("UriLocation"),uri:n.types.string,baseUri:n.types.maybe(n.types.string),internetAccountId:n.types.maybe(n.types.string),internetAccountPreAuthorization:n.types.maybe(n.types.model("InternetAccountPreAuthorization",{internetAccountType:n.types.string,authInfo:n.types.frozen()}))}),t.UriLocation=n.types.snapshotProcessor(t.UriLocationRaw,{postProcessor:e=>{let{baseUri:t,...r}=e;return t?e:r}}),t.FileLocation=n.types.snapshotProcessor(n.types.union(t.LocalPathLocation,t.UriLocation,t.BlobLocation),{preProcessor(e){if(!e)return;let{locationType:t,...r}=e;if(!t){let{uri:e,localPath:t,blob:n}=r,o="";return void 0!==e?o="UriLocation":void 0!==t?o="LocalPathLocation":void 0!==n&&(o="BlobLocation"),{...r,locationType:o}}return e}})},47060:function(e,t,r){r.d(t,{Ac:function(){return a},N_:function(){return i}});var n=r(22718),o=r(91904);function a(e){return o.types.model({id:n.ElementId,name:o.types.string,margin:0}).volatile(()=>({selection:void 0,hovered:void 0})).views(e=>({get root(){return(0,o.getParent)(e)}})).views(e=>({get jbrowse(){return e.root.jbrowse},get rpcManager(){return e.root.rpcManager},get configuration(){return this.jbrowse.configuration},get adminMode(){return e.root.adminMode},get textSearchManager(){return e.root.textSearchManager}})).views(e=>({get assemblies(){return e.jbrowse.assemblies}})).actions(e=>({setSelection(t){e.selection=t},clearSelection(){e.selection=void 0},setHovered(t){e.hovered=t}}))}function i(e){return"id"in e&&"name"in e&&"root"in e}},68340:function(e,t,r){r.d(t,{C:function(){return i},n:function(){return s}});var n=r(87290),o=r(91904),a=r(47060);function i(e){return o.types.model({connectionInstances:o.types.array(e.pluggableMstType("connection","stateModel"))}).views(e=>({get connections(){let{jbrowse:t}=e;return t.connections}})).actions(t=>({makeConnection(r,o={}){let a=r.type;if(!a)throw Error("track configuration has no `type` listed");let i=(0,n.readConfObject)(r,"name");if(!e.getConnectionType(a))throw Error(`unknown connection type ${a}`);let s=t.connectionInstances.push({...o,name:i,type:a,configuration:r});return t.connectionInstances[s-1]},prepareToBreakConnection(e){let r=[],o={},a=(0,n.readConfObject)(e,"name"),i=t.connectionInstances.find(e=>e.name===a);if(i){for(let e of i.tracks){let n=t.getReferring(e);t.removeReferring(n,e,r,o)}return[()=>{for(let e of r)e();this.breakConnection(e)},o]}},breakConnection(e){let r=(0,n.readConfObject)(e,"name"),o=t.connectionInstances.find(e=>e.name===r);if(!o)throw Error(`no connection found with name ${r}`);t.connectionInstances.remove(o)},deleteConnection(e){let{jbrowse:r}=t;return r.deleteConnectionConf(e)},addConnectionConf(e){let{jbrowse:r}=t;return r.addConnectionConf(e)},clearConnections(){t.connectionInstances.clear()}}))}function s(e){return(0,a.N_)(e)&&"connectionInstances"in e}},2645:function(e,t,r){r.d(t,{sK:function(){return ee},oQ:function(){return eO}});var n=r(57437),o=r(2265),a=r(87290),i=r(98833),s=r(61994),l=r(7609),c=r(1589),d=r(1190),u=r(42318),p=r(51661),f=r(75913),h=r(88654),g=r(15245),m=r(95916);function y(e){return(0,m.ZP)("MuiAppBar",e)}(0,g.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);let b=e=>{let{color:t,position:r,classes:n}=e,o={root:["root","color".concat((0,p.Z)(t)),"position".concat((0,p.Z)(r))]};return(0,l.Z)(o,y,n)},v=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,w=(0,c.ZP)(h.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t["position".concat((0,p.Z)(r.position))],t["color".concat((0,p.Z)(r.color))]]}})((0,d.Z)(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter((0,f.Z)(["contrastText"])).map(e=>{var r,n;let[o]=e;return{props:{color:o},style:{"--AppBar-background":(null!==(r=t.vars)&&void 0!==r?r:t).palette[o].main,"--AppBar-color":(null!==(n=t.vars)&&void 0!==n?n:t).palette[o].contrastText}}}),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?v(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?v(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}})),k=o.forwardRef(function(e,t){let r=(0,u.i)({props:e,name:"MuiAppBar"}),{className:o,color:a="primary",enableColorOnDark:i=!1,position:l="fixed",...c}=r,d={...r,color:a,position:l,enableColorOnDark:i},p=b(d);return(0,n.jsx)(w,{square:!0,component:"header",ownerState:d,elevation:4,className:(0,s.Z)(p.root,o,"fixed"===l&&"mui-fixed"),ref:t,...c})});var T=r(55666),C=r(90658),S=r(47198),M=r(91904),A=r(3905);let x=(0,A.makeStyles)()({paper:{overflow:"auto"}}),P=(0,S.observer)(function({session:e}){let{classes:t}=x(),{visibleWidget:r}=e,{pluginManager:a}=(0,M.getEnv)(e);if(!r)return null;let{ReactComponent:s,HeadingComponent:l,heading:c}=a.getWidgetType(r.type),d=a.evaluateExtensionPoint("Core-replaceWidget",s,{session:e,model:r});return(0,n.jsx)(i.Dialog,{open:!0,onClose:()=>{e.hideAllWidgets()},maxWidth:"xl",header:(0,n.jsx)(k,{position:"static",children:(0,n.jsx)(T.Z,{children:l?(0,n.jsx)(l,{model:r}):(0,n.jsx)(C.Z,{variant:"h6",children:c})})}),children:(0,n.jsx)(o.Suspense,{fallback:(0,n.jsx)("div",{children:"Loading..."}),children:(0,n.jsx)(h.Z,{className:t.paper,children:(0,n.jsx)(d,{model:r,session:e,overrideDimensions:{height:5*window.innerHeight/8,width:800}})})})})});var E=r(42382),R=r(25122),j=r(19591);let N="function"==typeof(0,j.zY)({}),_=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),O=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),D=function(e){var t,r;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={};n&&e.colorSchemes&&"function"==typeof e.getColorSchemeSelector&&Object.entries(e.colorSchemes).forEach(t=>{var r,n;let[a,i]=t,s=e.getColorSchemeSelector(a);s.startsWith("@")?o[s]={":root":{colorScheme:null===(r=i.palette)||void 0===r?void 0:r.mode}}:o[s.replace(/\s*&/,"")]={colorScheme:null===(n=i.palette)||void 0===n?void 0:n.mode}});let a={html:_(e,n),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...O(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...o},i=null===(r=e.components)||void 0===r?void 0:null===(t=r.MuiCssBaseline)||void 0===t?void 0:t.styleOverrides;return i&&(a=[a,i]),a},W="mui-ecs",I=e=>{let t=D(e,!1),r=Array.isArray(t)?t[0]:t;return!e.vars&&r&&(r.html[":root:has(".concat(W,")")]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(t=>{var n,o;let[a,i]=t,s=e.getColorSchemeSelector(a);s.startsWith("@")?r[s]={[":root:not(:has(.".concat(W,"))")]:{colorScheme:null===(n=i.palette)||void 0===n?void 0:n.mode}}:r[s.replace(/\s*&/,"")]={["&:not(:has(.".concat(W,"))")]:{colorScheme:null===(o=i.palette)||void 0===o?void 0:o.mode}}}),t};function L(e){return(0,m.ZP)("MuiScopedCssBaseline",e)}(0,j.zY)(N?e=>{let{theme:t,enableColorScheme:r}=e;return D(t,r)}:e=>{let{theme:t}=e;return I(t)}),(0,g.Z)("MuiScopedCssBaseline",["root"]);let Z=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"]},L,t)},B=(0,c.ZP)("div",{name:"MuiScopedCssBaseline",slot:"Root"})((0,d.Z)(e=>{let{theme:t}=e,r={};return t.colorSchemes&&Object.entries(t.colorSchemes).forEach(e=>{var n,o;let[a,i]=e,s=t.getColorSchemeSelector(a);s.startsWith("@")?r[s]={colorScheme:null===(n=i.palette)||void 0===n?void 0:n.mode}:r["&".concat(s.replace(/\s*&/,""))]={colorScheme:null===(o=i.palette)||void 0===o?void 0:o.mode}}),{..._(t,!1),...O(t),"& *, & *::before, & *::after":{boxSizing:"inherit"},"& strong, & b":{fontWeight:t.typography.fontWeightBold},variants:[{props:{enableColorScheme:!0},style:t.vars?r:{colorScheme:t.palette.mode}}]}})),$=o.forwardRef(function(e,t){let r=(0,u.i)({props:e,name:"MuiScopedCssBaseline"}),{className:o,component:a="div",enableColorScheme:i,...l}=r,c={...r,component:a},d=Z(c);return(0,n.jsx)(B,{as:a,className:(0,s.Z)(d.root,o),ref:t,ownerState:c,...l})});var U=r(36328),z=r(9685),q=r(71318),V=r(71200);let F=(0,S.observer)(function({model:e,IconButtonProps:t,IconProps:r}){let o=(0,q.usePopupState)({variant:"popover"});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(z.Z,{...t,...(0,q.bindTrigger)(o),"data-testid":"view_menu_icon",children:(0,n.jsx)(V.Z,{...r})}),(0,n.jsx)(i.CascadingMenu,{...(0,q.bindPopover)(o),onMenuItemClick:(e,t)=>{t()},menuItems:e.menuItems(),popupState:o})]})}),J=(0,o.lazy)(()=>r.e(9934).then(r.bind(r,89934))),G=(0,A.makeStyles)()(e=>({icon:{color:e.palette.secondary.contrastText},displayName:{marginTop:2,color:e.palette.secondary.contrastText},grow:{flexGrow:1},container:{display:"flex"},iconRoot:{"&:hover":{backgroundColor:(0,U.Fq)(e.palette.secondary.contrastText,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}})),H=(0,S.observer)(({view:e})=>{let{classes:t}=G(),{displayName:r}=e,[a,s]=(0,o.useState)(!1),l=(0,E.getSession)(e);return(0,n.jsxs)("div",{className:t.container,children:[(0,n.jsx)(F,{model:e,IconButtonProps:{classes:{root:t.iconRoot},edge:"start"},IconProps:{className:t.icon}}),(0,n.jsx)("div",{className:t.grow}),r?(0,n.jsx)(C.Z,{variant:"body2",className:t.displayName,children:r}):null,(0,n.jsx)("div",{className:t.grow}),(0,n.jsx)(z.Z,{onClick:()=>{s(!0)},children:(0,n.jsx)("div",{style:{width:22,height:22},children:(0,n.jsx)(i.Logomark,{variant:"white"})})}),a?(0,n.jsx)(o.Suspense,{fallback:null,children:(0,n.jsx)(J,{open:!0,onClose:()=>{s(!1)},version:l.version})}):null]})}),K=(0,A.makeStyles)()(e=>({avoidParentStyle:{all:"initial"},viewContainer:{overflow:"hidden",background:e.palette.secondary.main,margin:e.spacing(.5),padding:`0 ${e.spacing(1)} ${e.spacing(1)}`}})),Y=(0,S.observer)(function({view:e,children:t}){let{classes:r}=K(),a=(0,E.getSession)(e),i=(0,R.Z)(),s=(0,E.useWidthSetter)(e,i.spacing(1));return(0,n.jsxs)(h.Z,{elevation:12,ref:s,className:r.viewContainer,children:[a.DialogComponent?(0,n.jsx)(o.Suspense,{fallback:null,children:(0,n.jsx)(a.DialogComponent,{...a.DialogProps})}):null,(0,n.jsx)(H,{view:e}),(0,n.jsx)(h.Z,{children:t})]})}),Q=(0,S.observer)(function({view:e,children:t}){let{classes:r}=K();return(0,n.jsx)("div",{className:r.avoidParentStyle,children:(0,n.jsx)($,{children:(0,n.jsx)(Y,{view:e,children:t})})})});var X=r(11588),ee=(0,S.observer)(function({viewState:e}){let{session:t}=e,{view:r}=t,{pluginManager:s}=(0,M.getEnv)(t),{ReactComponent:l}=s.getViewType(r.type),c=(0,i.createJBrowseTheme)((0,a.readConfObject)(e.config.configuration,"theme"));return(0,n.jsxs)(X.Z,{theme:c,children:[(0,n.jsx)(Q,{view:r,children:(0,n.jsx)(o.Suspense,{fallback:(0,n.jsx)(i.LoadingEllipses,{}),children:(0,n.jsx)(l,{model:r,session:t})})},`view-${r.id}`),(0,n.jsx)(P,{session:t})]})}),et=r(67919),er=r.n(et),en=r(83938),eo=r.n(en),ea=r(61853),ei=r.n(ea),es=r(93507),el=r.n(es),ec=r(58884),ed=r(47605),eu=r(2138),ep=r(53992),ef=r(57354),eh=r(46702),eg=r(87510),em=r(1261),ey=r(46053),eb=r(78012),ev=r(59914),ew=r(41679),ek=r(98770),eT=r(70506),eC=r(27390);let eS=[ew.ZP,ec.ZP,eu.ZP,ep.Z,ef.Z,eh.Z,em.Z,ey.Z,eb.ZP,ev.Z,eT.Z,eC.ZP,eg.Z,ek.Z,ed.Z];var eM=r(58919),eA=r.n(eM),ex=r(47060),eP=r(74679),eE=r(68340);function eR(e){return M.types.model("ReferenceManagementSessionMixin",{}).views(e=>({getReferring(t){let r=[];return(0,M.walk)((0,M.getParent)(e),e=>{if((0,M.isModelType)((0,M.getType)(e)))for(let[n,o]of Object.entries((0,M.getMembers)(e).properties))(0,M.isReferenceType)(o)&&e[n]===t&&r.push({node:e,key:n})}),r}})).actions(e=>({removeReferring(t,r,n,o){for(let{node:a}of t){let t=!1;try{let e="open track(s)",i=(0,E.getContainingView)(a);n.push(()=>{i.hideTrack(r.trackId)}),t=!0,o[e]||(o[e]=0),o[e]+=1}catch(e){}if((0,E.isSessionModelWithWidgets)(e)&&e.widgets.has(a.id)){let r="configuration editor widget(s)";(0,E.isSessionModelWithWidgets)(e)&&n.push(()=>{e.hideWidget(a)}),t=!0,o[r]||(o[r]=0),o[r]+=1}if(!t)throw Error(`Error when closing this connection, the following node is still referring to a track configuration: ${JSON.stringify((0,M.getSnapshot)(a))}`)}}}))}function ej(e){return M.types.compose("TracksManagerSessionMixin",(0,ex.Ac)(e),eR(e)).views(e=>({get tracks(){return e.jbrowse.tracks}})).actions(e=>({addTrackConf:t=>e.jbrowse.addTrackConf(t),deleteTrackConf(t){let r=[],n=e.getReferring(t);for(let o of(e.removeReferring(n,t,r,{}),r))o();if(e.adminMode)return e.jbrowse.deleteTrackConf(t)}}))}var eN=(0,r(64059).Z)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");let e_=(0,o.lazy)(()=>r.e(3267).then(r.bind(r,23267)));function eO(e){let{assembly:t,tracks:r,internetAccounts:n,configuration:o,aggregateTextSearchAdapters:i,plugins:s=[],location:l,highlight:c,onChange:d,disableAddTracks:u=!1,makeWorkerInstance:p,defaultSession:f}=e,{model:h,pluginManager:g}=function(e,t=()=>{throw Error("no makeWorkerInstance supplied")}){let r=new(er())([...eS,...e].map(e=>new e)).createPluggableElements(),n=M.types.compose("ReactLinearGenomeViewSession",(0,ex.Ac)(r),function(e){let t=e.pluggableMstType("widget","stateModel");return M.types.model({drawerPosition:M.types.optional(M.types.string,()=>(0,E.localStorageGetItem)("drawerPosition")||"right"),drawerWidth:M.types.optional(M.types.refinement(M.types.integer,e=>e>=128),384),widgets:M.types.map(t),activeWidgets:M.types.map(M.types.safeReference(t)),minimized:M.types.optional(M.types.boolean,!1)}).views(e=>({get visibleWidget(){if((0,M.isAlive)(e))return[...e.activeWidgets.values()][e.activeWidgets.size-1];return}})).actions(t=>({setDrawerPosition(e){t.drawerPosition=e,localStorage.setItem("drawerPosition",e)},updateDrawerWidth(e){if(e===t.drawerWidth)return t.drawerWidth;let r=e;return r<128&&(r=128),t.drawerWidth=r,r},resizeDrawer(e){"left"===t.drawerPosition&&(e*=-1);let r=t.drawerWidth,n=this.updateDrawerWidth(r-e);return r-n},addWidget(r,n,o={},a){if(!e.getElementType("widget",r))throw Error(`unknown widget type ${r}`);let i={...o,id:n,type:r,configuration:a||{type:r}};return t.widgets.set(n,i),t.widgets.get(n)},showWidget(e){t.activeWidgets.has(e.id)&&t.activeWidgets.delete(e.id),t.activeWidgets.set(e.id,e),t.minimized=!1},hasWidget:e=>t.activeWidgets.has(e.id),hideWidget(e){t.activeWidgets.delete(e.id)},minimizeWidgetDrawer(){t.minimized=!0},showWidgetDrawer(){t.minimized=!1},hideAllWidgets(){t.activeWidgets.clear()},editConfiguration(e){if(!(0,a.isConfigurationModel)(e))throw Error("must pass a configuration model to editConfiguration");let t=this.addWidget("ConfigurationEditorWidget","configEditor",{target:e});this.showWidget(t)},afterAttach(){(0,M.addDisposer)(t,(0,eP.autorun)(()=>{(0,E.localStorageSetItem)("drawerPosition",t.drawerPosition)}))}}))}(r),(0,eE.C)(r),M.types.model("DialogQueueSessionMixin",{}).volatile(()=>({queueOfDialogs:[]})).views(e=>({get DialogComponent(){var t;return null===(t=e.queueOfDialogs[0])||void 0===t?void 0:t[0]},get DialogProps(){var r;return null===(r=e.queueOfDialogs[0])||void 0===r?void 0:r[1]}})).actions(e=>({removeActiveDialog(){e.queueOfDialogs=e.queueOfDialogs.slice(1)},queueDialog(t){let[r,n]=t(()=>{this.removeActiveDialog()});e.queueOfDialogs=[...e.queueOfDialogs,[r,n]]}})),ej(r),eR(r),ej(r).named("SessionTracksManagerSessionMixin").props({sessionTracks:M.types.array(r.pluggableConfigSchemaType("track"))}).views(e=>({get tracks(){return[...e.sessionTracks,...e.jbrowse.tracks]}})).actions(e=>{let{addTrackConf:t,deleteTrackConf:r}=e;return{addTrackConf(r){if(e.adminMode)return t(r);let{trackId:n,type:o}=r;if(!o)throw Error(`unknown track type ${o}`);let a=e.sessionTracks.find(e=>e.trackId===n);if(a)return a;let i=e.sessionTracks.push(r);return e.sessionTracks[i-1]},deleteTrackConf(t){let n=r(t);if(n)return n;let{trackId:o}=t,a=e.sessionTracks.findIndex(e=>e.trackId===o);if(-1!==a)return e.sessionTracks.splice(a,1)}}}),eA()()).props({view:r.getViewType("LinearGenomeView").stateModel,sessionTracks:M.types.array(r.pluggableConfigSchemaType("track"))}).views(e=>({get version(){return(0,M.getParent)(e).version},get disableAddTracks(){return(0,M.getParent)(e).disableAddTracks},get assemblies(){return[(0,M.getParent)(e).config.assembly]},get assemblyNames(){return[(0,M.getParent)(e).config.assemblyName]},get connections(){return(0,M.getParent)(e).config.connections},get assemblyManager(){return(0,M.getParent)(e).assemblyManager},get views(){return[e.view]},renderProps:()=>({theme:(0,a.getConf)(e,"theme"),highResolutionScaling:(0,a.getConf)(e,"highResolutionScaling")})})).actions(e=>({addView(t,n={}){if(!r.getElementType("view",t))throw Error(`unknown view type ${t}`);return e.view=(0,M.cast)({...n,type:t}),e.view},removeView(){}})).views(e=>({getTrackActionMenuItems:t=>[{label:"About track",onClick:()=>{e.queueDialog(e=>[e_,{config:t,handleClose:e}])},icon:eN}]})),o=(0,ea.assemblyConfigSchemaFactory)(r),i=ei()(o,r);return{model:M.types.model("ReactLinearGenomeView",{config:M.types.model("Configuration",{configuration:(0,a.ConfigurationSchema)("Root",{rpc:el().configSchema,highResolutionScaling:{type:"number",defaultValue:2},hierarchical:(0,a.ConfigurationSchema)("hierarchical",{sort:(0,a.ConfigurationSchema)("hierarchicalSort",{trackNames:{type:"boolean",defaultValue:!1},categories:{type:"boolean",defaultValue:!1}}),defaultCollapsed:(0,a.ConfigurationSchema)("defaultCollapsed",{categoryNames:{type:"stringArray",defaultValue:[]},topLevelCategories:{type:"boolean",defaultValue:!1},subCategories:{type:"boolean",defaultValue:!1}})}),formatDetails:(0,a.ConfigurationSchema)("FormatDetails",{feature:{type:"frozen",description:"adds extra fields to the feature details",defaultValue:{},contextVariable:["feature"]},subfeatures:{type:"frozen",description:"adds extra fields to the subfeatures of a feature",defaultValue:{},contextVariable:["feature"]},depth:{type:"number",defaultValue:2,description:"depth to iterate the formatDetails->subfeatures callback on subfeatures (used for example to only apply the callback to the first layer of subfeatures)"},maxDepth:{type:"number",defaultValue:1e4,description:"hide subfeatures greater than a certain depth"}}),formatAbout:(0,a.ConfigurationSchema)("FormatAbout",{config:{type:"frozen",description:"formats configuration object in about dialog",defaultValue:{},contextVariable:["config"]},hideUris:{type:"boolean",defaultValue:!1}}),theme:{type:"frozen",defaultValue:{}}}),assembly:o,tracks:M.types.array(r.pluggableConfigSchemaType("track")),internetAccounts:M.types.array(r.pluggableConfigSchemaType("internet account")),connections:M.types.array(r.pluggableConfigSchemaType("connection")),aggregateTextSearchAdapters:M.types.array(r.pluggableConfigSchemaType("text search adapter")),plugins:M.types.frozen()}).views(e=>({get assemblies(){return[e.assembly]},get assemblyName(){return(0,a.readConfObject)(e.assembly,"name")},get rpcManager(){return(0,M.getParent)(e).rpcManager}})),session:n,assemblyManager:M.types.optional(i,{}),disableAddTracks:M.types.optional(M.types.boolean,!1),internetAccounts:M.types.array(r.pluggableMstType("internet account","stateModel"))}).volatile(e=>({error:void 0,rpcManager:new(el())(r,e.config.configuration.rpc,{WebWorkerRpcDriver:{makeWorkerInstance:t},MainThreadRpcDriver:{}}),textSearchManager:new(eo())(r),adminMode:!1,version:"3.6.5"})).actions(e=>({setSession(t){e.session=(0,M.cast)(t)},renameCurrentSession(t){this.setSession({...JSON.parse(JSON.stringify((0,M.getSnapshot)(e.session))),name:t})},setError(t){e.error=t},addInternetAccount(t){e.internetAccounts.push(t)},findAppropriateInternetAccount(t){let r=t.internetAccountId;if(r){let t=e.internetAccounts.find(e=>e.internetAccountId===r);if(t)return t}for(let r of e.internetAccounts)if(r.handlesLocation(t))return r;return null}})).views(e=>({get jbrowse(){return e.config}})),pluginManager:r}}(s,p),m=h.create({config:{configuration:o,assembly:t,tracks:r,internetAccounts:n,aggregateTextSearchAdapters:i},disableAddTracks:u,session:null!=f?f:{name:"this session",view:{id:"linearGenomeView",type:"LinearGenomeView"}}},{pluginManager:g});for(let e of m.config.internetAccounts){if(!g.getInternetAccountType(e.type))throw Error(`unknown internet account type ${e.type}`);m.addInternetAccount({type:e.type,configuration:e})}return g.setRootModel(m),g.configure(),l&&(async()=>{let{session:e}=m,{isValidRefName:r}=e.assemblyManager;try{if(await e.view.navToLocString("string"==typeof l?l:(0,E.assembleLocString)(l),t.name),c){for(let n of c)if(n){let o=(0,E.parseLocString)(n,e=>r(e,t.name)),{start:a,end:i}=o;void 0!==a&&void 0!==i&&e.view.addToHighlights({...o,start:a,end:i,assemblyName:t})}}}catch(t){e.notifyError(`${t}`,t)}})(),d&&(0,M.onPatch)(m,d),m}r(55842)},24444:function(e,t,r){r.r(t);var n=r(57528),o=r(23316);t.default={Client:n.Z,Server:o.Z}},32660:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},98420:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},31047:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},40875:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},22135:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},56421:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Dna",[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]])},48736:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},41217:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]])},32489:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},39939:function(e,t,r){r.d(t,{P:function(){return p}});var n,o,a=r(2265),i=r(55261),s=r(19213),l="function"==typeof Symbol&&Symbol.for,c=null!==(o=null===(n=Object.getOwnPropertyDescriptor(function(){},"name"))||void 0===n?void 0:n.configurable)&&void 0!==o&&o,d=l?Symbol.for("react.forward_ref"):"function"==typeof a.forwardRef&&(0,a.forwardRef)(function(e){return null}).$$typeof,u=l?Symbol.for("react.memo"):"function"==typeof a.memo&&(0,a.memo)(function(e){return null}).$$typeof;function p(e,t){if(u&&e.$$typeof===u)throw Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if((0,i.F)())return e;var r,n=null!==(r=null==t?void 0:t.forwardRef)&&void 0!==r&&r,o=e,l=e.displayName||e.name;if(d&&e.$$typeof===d&&(n=!0,"function"!=typeof(o=e.render)))throw Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var p=function(e,t){return(0,s.S)(function(){return o(e,t)},l)};return p.displayName=e.displayName,c&&Object.defineProperty(p,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(p.contextTypes=e.contextTypes),n&&(p=(0,a.forwardRef)(p)),function(e,t){Object.keys(e).forEach(function(r){f[r]||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}(e,p=(0,a.memo)(p)),p}var f={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0}},61751:function(e,t,r){r.d(t,{c:function(){return i}});var n=r(2265),o=r(38556),a=r(91680);let i=({classes:e,theme:t,muiStyleOverridesParams:r,css:i,cx:s,name:l})=>{var c,d;let u;e:{if("makeStyle no name"===l){l=void 0;break e}if(void 0!==r&&void 0===l)throw Error("To use muiStyleOverridesParams, you must specify a name using .withName('MyComponent')")}try{u=void 0===l?void 0:(null===(d=null===(c=t.components)||void 0===c?void 0:c[l])||void 0===d?void 0:d.styleOverrides)||void 0}catch(e){}let p=(0,n.useMemo)(()=>{if(void 0===u)return;let e={};for(let n in u){let o=u[n];o instanceof Object&&(e[n]=i("function"==typeof o?o({theme:t,ownerState:null==r?void 0:r.ownerState,...null==r?void 0:r.props}):o))}return e},[u,(0,o.k)(null==r?void 0:r.props),(0,o.k)(null==r?void 0:r.ownerState),i]);return{classes:e=(0,n.useMemo)(()=>(0,a.z)(e,p,s),[e,p,s])}}},24369:function(e,t,r){var n=r(2265),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,i=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),o=n[0].inst,d=n[1];return s(function(){o.value=r,o.getSnapshot=t,c(o)&&d({inst:o})},[e,r,t]),i(function(){return c(o)&&d({inst:o}),e(function(){c(o)&&d({inst:o})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},15945:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let o=n(r(93570)),a=n(r(45800));class i{constructor({fill:e,cache:t}){if("function"!=typeof e)throw TypeError("must pass a fill function");if("object"!=typeof t)throw TypeError("must pass a cache object");if("function"!=typeof t.get||"function"!=typeof t.set||"function"!=typeof t.delete)throw TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=t,this.fillCallback=e}static isAbortException(e){return"AbortError"===e.name||"ERR_ABORTED"===e.code||"AbortError: aborted"===e.message||"Error: aborted"===e.message}evict(e,t){this.cache.get(e)===t&&this.cache.delete(e)}fill(e,t,r,n){let i=new o.default,s=new a.default;s.addCallback(n);let l={aborter:i,promise:this.fillCallback(t,i.signal,e=>{s.callback(e)}),settled:!1,statusReporter:s,get aborted(){return this.aborter.signal.aborted}};l.aborter.addSignal(r),l.aborter.signal.addEventListener("abort",()=>{l.settled||this.evict(e,l)}),l.promise.then(()=>{l.settled=!0},()=>{l.settled=!0,this.evict(e,l)}).catch(e=>{throw console.error(e),e}),this.cache.set(e,l)}static checkSinglePromise(e,t){function r(){if(t?.aborted)throw Object.assign(Error("aborted"),{code:"ERR_ABORTED"})}return e.then(e=>(r(),e),e=>{throw r(),e})}has(e){return this.cache.has(e)}get(e,t,r,n){if(!r&&t instanceof AbortSignal)throw TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");let o=this.cache.get(e);return o?o.aborted&&!o.settled?(this.evict(e,o),this.get(e,t,r,n)):o.settled?o.promise:(o.aborter.addSignal(r),o.statusReporter.addCallback(n),i.checkSinglePromise(o.promise,r)):(this.fill(e,t,r,n),i.checkSinglePromise(this.cache.get(e).promise,r))}delete(e){let t=this.cache.get(e);t&&(t.settled||t.aborter.abort(),this.cache.delete(e))}clear(){let e=this.cache.keys(),t=0;for(let r=e.next();!r.done;r=e.next())this.delete(r.value),t+=1;return t}}t.default=i},93570:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r{}class n{constructor(){this.signals=new Set,this.abortController=new AbortController}addSignal(e=new r){if(this.signal.aborted)throw Error("cannot add a signal, already aborted!");this.signals.add(e),e.aborted?this.handleAborted(e):"function"==typeof e.addEventListener&&e.addEventListener("abort",()=>{this.handleAborted(e)})}handleAborted(e){this.signals.delete(e),0===this.signals.size&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}}t.default=n},45800:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.callbacks=new Set}addCallback(e=()=>{}){this.callbacks.add(e),this.currentMessage&&e(this.currentMessage)}callback(e){for(let t of(this.currentMessage=e,this.callbacks))t(e)}}t.default=r},59303:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(15945);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(o).default}})},71200:function(e,t,r){var n=r(64059),o=r(57437);t.Z=(0,n.Z)((0,o.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")},55666:function(e,t,r){r.d(t,{Z:function(){return g}});var n=r(2265),o=r(61994),a=r(7609),i=r(1589),s=r(1190),l=r(42318),c=r(15245),d=r(95916);function u(e){return(0,d.ZP)("MuiToolbar",e)}(0,c.Z)("MuiToolbar",["root","gutters","regular","dense"]);var p=r(57437);let f=e=>{let{classes:t,disableGutters:r,variant:n}=e;return(0,a.Z)({root:["root",!r&&"gutters",n]},u,t)},h=(0,i.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})((0,s.Z)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}}));var g=n.forwardRef(function(e,t){let r=(0,l.i)({props:e,name:"MuiToolbar"}),{className:n,component:a="div",disableGutters:i=!1,variant:s="regular",...c}=r,d={...r,component:a,disableGutters:i,variant:s},u=f(d);return(0,p.jsx)(h,{as:a,className:(0,o.Z)(u.root,n),ref:t,ownerState:d,...c})})}}]);